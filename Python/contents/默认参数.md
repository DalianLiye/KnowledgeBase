[目录](../目录.md)

# 关于默认参数 #
默认参数可以简化函数的调用,降低调用函数的难度


# 定义默认参数函数 #
```python
#函数有两个参数：x和n，x是位置参数，n是默认参数，调用函数时，如果只有一个参数传入，则n被设定为2
def power(x, n=2): 
  s = 1
  while n > 0:
    n = n - 1
    s = s * x
  return s
```
**注意**
- 必选参数在前，默认参数在后，否则Python的解释器会报错
- 如何设置默认参数\
  当函数有多个参数时，把变化大的参数放前面，变化小的参数放后面。变化小的参数就可以作为默认参数
- 定义默认参数要牢记一点：默认参数必须指向不变对象，例如：
  
  - **错误例子**
    ```python
    def add_end(L=[]):
      print(L)
      L.append('END')
      return L

    add_end() #输出：[]
    add_end() #输出：['END']
    add_end() #输出：['END', 'END']
    ```
    Python函数在定义时，默认参数L的值就被计算出来了，即[]，因为默认参数L也是一个变量，它指向对象[]\
    如果函数内改变了L的内容，则下次调用时，默认参数的内容就变了，不再是函数定义时的[]了\
    就是说，第一次调用函数时，默认参数没有赋值，因此L被赋值为[],第二，三次调用时，L已经不为空了，因此默认值[]就不会被再次被使用而是用L本身的值\
    调用函数时，只有当默认参数为空的时候，默认参数值才有效，如果默认参数不为空，即便调用函数时没有显性的赋值，默认参数值也不会被使用
  - **正确例子**
    ```python
    def add_end(L=None):
      if L is None:
        L = []
        L.append('END')
      return L
    ```
    之所以要设计str、None这样的不变对象是因为不变对象一旦创建，对象内部的数据就不能修改，这样就减少了由于修改数据导致的错误\
    此外，由于对象不变，多任务环境下同时读取对象不需要加锁，同时读一点问题都没有\
    编写程序时，要尽量设计一个不变对象
